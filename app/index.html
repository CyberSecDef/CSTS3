<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<title>My OS Platform</title>

		<link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="public/css/default.css">
		
		<script src="../node_modules/jquery/dist/jquery.js"></script>
		<script src="../node_modules/popper.js/dist/umd/popper.js"></script>
		<script src="../node_modules/bootstrap/dist/js/bootstrap.js"></script>
		<script src="../node_modules/jsviews/jsviews.js"></script>
	</head>
	<body>
<div id="result"></div>

<script id="myTmpl" type="text/x-jsrender">
    <input data-link="name" />
    {^{:name}}
  </script>
	</body>

	
	<script>
	
	var os = require('os');
	$('footer.footer div div.status-bar-l').text( 'You are running on ' + os.platform());
	
	var win = nw.Window.get();
	win.width = 1280;
	win.height = 800;
	
	var path = './';
  var fs = require('fs');
  
  var reloadWatcher=fs.watch(path, {recursive: true}, function() {
    location.reload();
    reloadWatcher.close();
  });
  
  
  
$(document).ready(function() {
	var name = 'show';
	var data = { time: new Date };
	
	 $.when($.get('/app/resources/views/components/navbar.html'))
         .done(function(tmplData) {
             $.templates({ tmpl: tmplData });
             console.log($.templates);
         });    
	
	$.ajax({
		url : '/app/resources/views/layouts/default.tpl',
		type : 'GET',
		success : function(r,s,x){
			var tmpl = $.templates(r);
			var data = {name: "Jim"};
			tmpl.link("#result", data);
		}
	});
	 
});

  
  
	</script>

</html>